import{s as d,c as l,u as o,a as n,d as i,b as u,e as a}from"./firebaseConfig-DPj6AoB7.js";async function p(r,e){return d(a,r,e)}async function y(r,e,s){if(typeof r=="string"&&r.trim().length>13)throw new Error("Display name must be 13 characters or fewer.");const t=(await l(a,e,s)).user;await o(t,{displayName:r});try{await n(i(u,"users",t.uid),{name:r,email:e}),console.log("Firestore user document created successfully!")}catch(c){console.error("Error creating user document in Firestore:",c)}return t}async function g(r){if(typeof r=="string"&&r.trim().length>13)throw new Error("Display name must be 13 characters or fewer.");if(!a.currentUser)throw new Error("No signed-in user");await o(a.currentUser,{displayName:r});try{await n(i(u,"users",a.currentUser.uid),{name:r},{merge:!0})}catch(s){console.warn("Failed to update Firestore user doc:",s)}return a.currentUser}function E(r){const e=(r?.code||"").toLowerCase();return{"auth/invalid-credential":"Wrong email or password.","auth/invalid-email":"Please enter a valid email address.","auth/user-not-found":"No account found with that email.","auth/wrong-password":"Incorrect password.","auth/too-many-requests":"Too many attempts. Try again later.","auth/email-already-in-use":"Email is already in use.","auth/weak-password":"Password too weak (min 6 characters).","auth/missing-password":"Password cannot be empty.","auth/network-request-failed":"Network error. Try again."}[e]||"Something went wrong. Please try again."}export{E as a,p as l,y as s,g as u};
